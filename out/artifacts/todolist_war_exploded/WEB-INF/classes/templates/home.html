<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home page</title>
</head>
<body>

<div th:replace="~{header :: header}"></div>

<h1>Welcome to TODO List Application</h1>

<h2>List of Users</h2>

<a href="create-user.html" th:href="@{/users/create}" class="btn btn-light" title="Add new user into database">
    <i class="bi-plus"></i>&nbsp;<span class="d-none d-sm-inline">Create new User</span>
</a>


<table border="1">
    <tr>
        <th>No.</th>
        <th>ID</th>
        <th>Full Name</th>
        <th>Email</th>
        <th>Operations</th>
    </tr>
    <tbody>
    <tr th:each="user,stat : ${users}">
        <td th:text="${stat.count}">1</td>
        <td th:text="${user.id}">5</td>
        <td th:text="${user.firstName + ' ' + user.lastName}">Nick Green</td>
        <td th:text="${user.email}">nick@mail.com</td>
        <td class="text-end">
            <a href="update-user.html"
               th:href="@{|/users/${user.id}/update|}"
               class="btn-sm btn-outline-secondary"
               title="Edit user">
                <i class="bi-pen"></i><span class="d-none d-md-inline">&nbsp;Edit</span></a>
            <a href="home.html"
               th:href="@{|/users/${user.id}/delete|}"
               data-bs-toggle="modal" data-bs-target="#deleteDialog"
               class="btn-sm btn-outline-danger" title="Delete user">
                <i class="bi-x"></i><span class="d-none d-md-inline">&nbsp;Delete</span></a>
        </td>
    </tr>
    <tr th:remove="all">
        <td>2</td>
        <td>6</td>
        <td>Nora White</td>
        <td>nora@mail.com</td>
        <td class="text-end">
            <a href="update-user.html"
               class="btn-sm btn-outline-secondary"
               title="Edit user">
                <i class="bi-pen"></i><span class="d-none d-md-inline">&nbsp;Edit</span></a>
            <a href="home.html"
               th:href="@{|/users/${user.id}/delete|}"
               data-bs-toggle="modal" data-bs-target="#deleteDialog"
               class="btn-sm btn-outline-danger" title="Delete user">
                <i class="bi-x"></i><span class="d-none d-md-inline">&nbsp;Delete</span></a>
        </td>
    </tr>
    <tr th:remove="all">
        <td>3</td>
        <td>4</td>
        <td>Mike Brown</td>
        <td>mike@mail.com</td>
        <td class="text-end">
            <a href="update-user.html"
               class="btn-sm btn-outline-secondary"
               title="Edit user">
                <i class="bi-pen"></i><span class="d-none d-md-inline">&nbsp;Edit</span></a>
            <a href="home.html"
               th:href="@{|/users/${user.id}/delete|}"
               data-bs-toggle="modal" data-bs-target="#deleteDialog"
               class="btn-sm btn-outline-danger" title="Delete user">
                <i class="bi-x"></i><span class="d-none d-md-inline">&nbsp;Delete</span></a>
        </td>
        </td>
    </tr>
    </tbody>
</table>

<footer>
    <hr/>
    <p class="text-center">team_3_01 &copy; 2023 ToDo list</p>
</footer>
<!-- Confirm delete Modal -->
<div class="modal fade" id="deleteDialog" tabindex="-1" role="dialog"
     aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header alert-danger">
                <h5 class="modal-title" id="exampleModalLabel">Delete user</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Are you sure you want to delete this user?
            </div>
            <div class="modal-footer">
                <a id="cancelBtn" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</a>
                <a id="deleteBtn" class="btn btn-danger" href="#">Delete</a>
            </div>
        </div>
    </div>
</div>

<script src="../static/js/bootstrap.bundle.min.js"
        th:src="@{/js/bootstrap.bundle.min.js}"></script>

</body>
</html>

